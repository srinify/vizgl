<!DOCTYPE html>
<html lang="en">
<head>

<!-- Extra Header for IPython Notebooks
================================================== -->

  <style>
    div.input_prompt { display: none; }
    div.prompt { display: none; }
  </style>

	<!-- Basic Page Needs
  ================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <title>Apache Superset from Scratch: Day 1 (Setup)</title>

  <meta name="description" content="">
  <meta name="author" content="Srini Kadamati">
  <meta name="copyright" content="&copy; Copyright Srini Kadamati, 2021 to present">

  <!-- Mobile Specific Metas
  ================================================== -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- CSS
  ================================================== -->
  <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">




	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="">
	<link rel="apple-touch-icon" href="">

</head>
<body>
	<!-- Primary Page Layout
	================================================== -->
	<div class="container">
<!-- Navigation
================================================== -->
<header>
  <h1>Srini Kadamati</h1>
  <nav>
  </nav> <!-- End navbar -->
</header>		<section id="content">

  <!-- Article Headers
  ================================================================== -->
  <h1>Apache Superset from Scratch: Day 1 (Setup)</h1>
  <h6>December 24, 2021
  </h6>
  <hr>

  <!-- Article Content
  ================================================================== -->
  <p>I'm on a quest, to understand and map out as much of the <a href="https://superset.apache.org/">Apache Superset</a> code base as I can. In my <a href="https://linkedin.com/in/srinivasakadamati">day job</a>, I have the opportunity to <em>use</em> Superset on a daily basis but I'm not intimately familiar with the code paths themselves.</p>
<p>My goal is to make noticeable progress on a daily basis. With the preamble out of the way, let's start!</p>
<h3>Contributing.md</h3>
<p>The Superset codebase is large; where does one even begin? For new code bases, I generally like alternating between:</p>
<ul>
<li><em>breadth</em>: starting with an overview of the development / contributor's guide</li>
<li><em>depth</em>: recursively going through each component &amp; sub-component</li>
</ul>
<p>For breadth, I'll start with the <a href="https://github.com/apache/superset/blob/master/CONTRIBUTING.md#setup-local-environment-for-development">Setup Local Environment for Development</a> section from CONTRIBUTING.MD.</p>
<h3>Python 3.8</h3>
<p>Python 3.7.x or 3.8.x are recommended for running the Superset backend. I'm on a Mac, and prefer to leave the default <code>python</code> that ships with the operating system to 2.7.x. Instead, I'll use <a href="https://brew.sh/">Homebrew</a> to install Python 3.8:</p>
<div class="highlight"><pre><span></span><code><span class="n">brew</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">python</span><span class="mf">@3.8</span><span class="w"></span>
</code></pre></div>

<p>Now, both the <code>python3</code> and <code>pip3</code> commands work as expected (independent of the <code>python</code> and <code>pip</code> commands)!</p>
<ul>
<li><code>python3 --version</code> returns<ul>
<li><code>Python 3.8.12</code></li>
</ul>
</li>
<li><code>pip3 --version</code> returns<ul>
<li><code>pip 21.2.4 from /opt/homebrew/lib/python3.8/site-packages/pip (python 3.8)</code></li>
</ul>
</li>
</ul>
<h3>Virtualenv</h3>
<p>Now time to create a Python virtual environment. Virtual environment is really a sandbox for your Python libraries that lives within a specific folder / project. This workflow gives you a few benefits:</p>
<ul>
<li>Virtual environment lives completely independent of the global Python sandbox</li>
<li>It's super quick and easy to delete all of the project specific Python libraries and re-install, as an escape hatch</li>
<li>Less time wasted (not zero sadly) dealing with version / dependency conflicts</li>
</ul>
<p>Are there any downsides?</p>
<ul>
<li>The main one is increased storage requirements, because every Python project on your computer has its own copies of similar libraries</li>
</ul>
<p>First, let me install <code>virtualenv</code>:</p>
<div class="highlight"><pre><span></span><code>pip3 install virtualenv
</code></pre></div>

<p>Next, let's give our virtual environment a name. The <code>virtualenv</code> creates a folder within your project folder and stuffs all of the Python libraries you install there. So we're really trying to decide on the <em>name</em> of this folder.</p>
<p>The CONTRIBUTING.MD file in the Superset repo suggests naming it <code>venv</code>:</p>
<div class="highlight"><pre><span></span><code>python3 -m venv venv
</code></pre></div>

<ul>
<li>The first <code>venv</code> is short-hand for <code>virtualenv</code></li>
<li>The second <code>venv</code> refers to the name of the folder we're creating (<code>../superset/venv/</code>)</li>
</ul>
<p>Why should we name it <code>venv/</code>? One hint is in the <code>.gitignore</code> file, which <a href="https://git-scm.com/docs/gitignore">specifies files &amp; folder paths to ignore in version control</a>. This means that each user can have their own local state and those details won't get checked into version control. </p>
<p>The <code>.gitignore</code> file itself <em>is</em> version controlled though. So this file provides a "universal" agreemenet between all of the contributors to Superset that these files should not be checked into version control. Let's search for any string values containing "env" in the <code>.gitignore</code>:</p>
<div class="highlight"><pre><span></span><code>cat .gitignore | grep &#39;env&#39;
</code></pre></div>

<p>This returns:</p>
<div class="highlight"><pre><span></span><code><span class="na">.env</span>
<span class="na">.envrc</span>
<span class="nf">env</span>
<span class="nf">venv</span><span class="p">*</span>
<span class="nf">env_py3</span>
<span class="nf">envpy3</span>
<span class="nf">env36</span>
<span class="nf">venv</span>
</code></pre></div>

<p>While some open source projects use the <code>.venv/</code> convention for virtualenv, the Superset one uses <code>venv</code> it seems. So this means:</p>
<ul>
<li>we can party in our local <code>venv/</code> and none of those changes will make it into any code PR's we may want to make</li>
<li>if we want to use <code>.venv/</code> instead, the git version control system will detect a change</li>
</ul>
<p>Let's stick to the community convention, and run the suggested command:</p>
<div class="highlight"><pre><span></span><code>python3 -m venv venv
</code></pre></div>
		</section>
<footer>
  <hr class="small">
  <center>
  <p>Built with <a href="http://getpelican.com">Pelican</a> and the <a href="https://github.com/gjreda/newbird-pelican-theme">newbird</a> theme</p>
  <p>&copy; Copyright Srini Kadamati, 2021 to present</p>
  </center>
</footer>	</div><!-- container -->

</body> <!-- End body -->

<!-- JavaScript
=================================================== -->
<script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</html>